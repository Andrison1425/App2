(this.webpackJsonppresupuesto=this.webpackJsonppresupuesto||[]).push([[0],{23:function(e,a,t){e.exports=t(34)},33:function(e,a,t){},34:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(21),c=t.n(o),l=t(4),m=Object(r.createContext)(),i=t(1),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"login":return Object(i.a)(Object(i.a)({},e),{},{userName:a.payload});default:return e}},s=function(){return JSON.parse(localStorage.getItem("nombre"))||{userName:""}},b=function(e){var a=Object(r.useReducer)(u,{},s),t=Object(l.a)(a,2),o=t[0],c=t[1];Object(r.useEffect)((function(){localStorage.setItem("nombre",JSON.stringify(o))}),[o]);return n.a.createElement(m.Provider,{value:{nombre:o.userName,auth:function(e){c({type:"login",payload:e})}}},e.children)},p=t(14),d=function(e,a){switch(a.type){case"toogle":return Object(i.a)(Object(i.a)({},e),{},{formulario:!e.formulario});case"add":return Object(i.a)(Object(i.a)({},e),{},{listadoProyectos:[a.payload].concat(Object(p.a)(e.listadoProyectos))});case"obtenerProyecto":return Object(i.a)(Object(i.a)({},e),{},{proyectoSeleccionado:e.listadoProyectos.filter((function(e){return e.id===a.payload}))});case"eliminarProyecto":return Object(i.a)(Object(i.a)({},e),{},{listadoProyectos:e.listadoProyectos.filter((function(e){return e.id!==a.payload})),proyectoSeleccionado:null});case"login":return a.payload;default:return e}},E=Object(r.createContext)(),f=function(e){var a=Object(r.useReducer)(d,{formulario:!1,listadoProyectos:[],proyectoSeleccionado:null}),t=Object(l.a)(a,2),o=t[0],c=t[1];return n.a.createElement(E.Provider,{value:{formulario:o.formulario,cambiarFormulario:function(){c({type:"toogle"})},listadoProyectos:o.listadoProyectos,agregarProyecto:function(e){c({type:"add",payload:{nombre:e,id:e}})},proyectoSeleccionado:o.proyectoSeleccionado,obtenerProyecto:function(e){c({type:"obtenerProyecto",payload:e})},eliminarProyecto:function(e){c({type:"eliminarProyecto",payload:e})}}},e.children)},y=Object(r.createContext)(),j=function(e,a){switch(a.type){case"agregar":return Object(i.a)(Object(i.a)({},e),{},{tareas:[a.payload].concat(Object(p.a)(e.tareas))});case"eliminar":return Object(i.a)(Object(i.a)({},e),{},{tareas:e.tareas.filter((function(e){return e.tareaID!==a.payload}))});case"cambiar":return Object(i.a)(Object(i.a)({},e),{},{tareas:e.tareas.map((function(e){return e.tareaID===a.payload.tareaID?Object(i.a)(Object(i.a)({},e),{},{estado:!e.estado}):e}))});case"editar":return Object(i.a)(Object(i.a)({},e),{},{tareas:e.tareas.map((function(e){return e.tareaID===a.payload.tareaID?a.payload:e}))});default:return e}},O=function(e){var a=Object(r.useState)(""),t=Object(l.a)(a,2),o=t[0],c=t[1],m=Object(r.useState)(null),i=Object(l.a)(m,2),u=i[0],s=i[1],b=Object(r.useReducer)(j,{tareas:[]}),p=Object(l.a)(b,2),d=p[0],E=p[1];return n.a.createElement(y.Provider,{value:{tareas:d.tareas,agregarTarea:function(e){E({type:"agregar",payload:e})},eliminarTarea:function(e){E({type:"eliminar",payload:e})},cambiarEstado:function(e){E({type:"cambiar",payload:e})},editar:u,setEditar:s,editarTarea:function(e){E({type:"editar",payload:e})},nombre:o,setNombre:c}},e.children)},v=t(8),N=t(2),g=t(9),h=function(e){var a=e.history,t=Object(r.useContext)(m).auth,o=Object(r.useState)({email:"",password:""}),c=Object(l.a)(o,2),u=c[0],s=c[1],b=function(e){s(Object(i.a)(Object(i.a)({},u),{},Object(g.a)({},e.target.name,e.target.value)))};return n.a.createElement("div",{className:"form-usuario"},n.a.createElement("div",{className:"contenedor-form sombra-dark"},n.a.createElement("h1",null,"Iniciar Sesi\xf3n"),n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t("Andrison"),a.replace("/proyectos")}},n.a.createElement("div",{className:"campo-form"},n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{type:"email",id:"email",name:"email",placeholder:"Tu Email",onChange:b})),n.a.createElement("div",{className:"campo-form"},n.a.createElement("label",{htmlFor:"password"},"Contrase\xf1a"),n.a.createElement("input",{type:"password",id:"password",name:"password",placeholder:"Tu Contrase\xf1a",onChange:b})),n.a.createElement("div",{className:"campo-form"},n.a.createElement("input",{type:"submit",value:"Iniciar Sesion",className:"btn btn-primario btn-block"}))),n.a.createElement(v.b,{to:"/nueva-cuenta",className:"enlace-cuenta"},"Crear Cuenta")))},C=function(e){var a=e.history,t=Object(r.useContext)(m).auth,o=Object(r.useState)(!1),c=Object(l.a)(o,2),u=c[0],s=c[1],b=Object(r.useState)({nombre:"",email:"",password:"",confirmar:""}),p=Object(l.a)(b,2),d=p[0],E=p[1],f=function(e){E(Object(i.a)(Object(i.a)({},d),{},Object(g.a)({},e.target.name,e.target.value)))};return n.a.createElement("div",{className:"form-usuario"},n.a.createElement("div",{className:"contenedor-form sombra-dark"},n.a.createElement("h1",null,"Crear Cuenta"),n.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),d.password!==d.confirmar)return s(!0);t(d.nombre),a.replace("/proyectos")}},n.a.createElement("div",{className:"campo-form"},n.a.createElement("label",{htmlFor:"nombre"},"Nombre"),n.a.createElement("input",{type:"text",id:"nombre",name:"nombre",placeholder:"Tu nombre",onChange:f,required:!0})),n.a.createElement("div",{className:"campo-form"},n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{type:"email",id:"email",name:"email",placeholder:"Tu Email",onChange:f,required:!0})),n.a.createElement("div",{className:"campo-form"},n.a.createElement("label",{htmlFor:"password"},"Contrase\xf1a"),n.a.createElement("input",{type:"password",id:"password",name:"password",placeholder:"Tu Contrase\xf1a",onChange:f,required:!0})),n.a.createElement("div",{className:"campo-form"},n.a.createElement("label",{htmlFor:"password"},"Confirmar Contrase\xf1a"),n.a.createElement("input",{type:"password",id:"password",name:"confirmar",placeholder:"Confirma Tu Contrase\xf1a",onChange:f,required:!0})),n.a.createElement("div",{className:"campo-form"},n.a.createElement("input",{type:"submit",value:"Crear Cuenta",className:"btn btn-primario btn-block"}))),n.a.createElement(v.b,{to:"/",className:"enlace-cuenta"},"Iniciar Sesion"),u?n.a.createElement("p",{className:"mensaje error"},"Las constrase\xf1as no son igules"):null))},S=function(){var e=Object(r.useContext)(m).nombre,a=Object(N.g)();return n.a.createElement("header",{className:"app-header"},n.a.createElement("p",{className:"nombre-usuario"},"Hola ",n.a.createElement("span",null,e)),n.a.createElement("nav",{className:"nav-principal"},n.a.createElement("button",{type:"button",onClick:function(e){e.preventDefault(),localStorage.removeItem("nombre"),a.replace("/")}},"Cerrar Sesion")))},P=function(){var e=Object(r.useContext)(E),a=e.formulario,t=e.cambiarFormulario,o=e.agregarProyecto,c=Object(r.useState)(!1),m=Object(l.a)(c,2),u=m[0],s=m[1],b=Object(r.useState)({nombre:""}),p=Object(l.a)(b,2),d=p[0],f=p[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{type:"button",className:"btn btn-block btn-primario",onClick:t,disabled:a},"Nuevo Proyecto"),a?n.a.createElement("form",{className:"formulario-nuevo-proyecto",onSubmit:function(e){e.preventDefault(),d.nombre.trim()?(s(!1),t(),o(d.nombre)):s(!0)},autoComplete:"off"},n.a.createElement("input",{type:"text",className:"input-text",placeholder:"Nombre Proyecto",name:"nombre",onChange:function(e){f(Object(i.a)(Object(i.a)({},d),{},Object(g.a)({},e.target.name,e.target.value)))}}),n.a.createElement("input",{type:"submit",value:"Agregar Proyecto",className:"btn btn-block btn-primario"}),u?n.a.createElement("p",{className:"mensaje error"},"El nombre es obligatio"):null):null)},x=function(){var e=Object(r.useContext)(E),a=e.listadoProyectos,t=e.obtenerProyecto;return n.a.createElement("ul",{className:"listado-proyectos"},a.map((function(e){return n.a.createElement("li",{key:e.id},n.a.createElement("button",{type:"button",className:"btn btn-blank",onClick:function(){return t(e.id)}},e.nombre))})))},k=function(){return n.a.createElement("aside",null,n.a.createElement("h1",null,"MERN",n.a.createElement("span",null,"Tasks")),n.a.createElement(P,null),n.a.createElement("div",{className:"proyectos"},n.a.createElement("h2",null,"Tus Proyectos"),n.a.createElement(x,null)))},w=function(){var e=Object(r.useContext)(E).proyectoSeleccionado,a=Object(r.useContext)(y),t=a.agregarTarea,o=a.editar,c=a.nombre,m=a.setNombre,u=a.editarTarea,s=a.setEditar,b=Object(r.useState)(!1),p=Object(l.a)(b,2),d=p[0],f=p[1];if(!e)return null;var j=e[0].id;return n.a.createElement("div",{className:"formulario"},n.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),c.trim()){if(f(!1),null===o)t({nombre:c,estado:!1,proyectoID:j,tareaID:c});else u(Object(i.a)(Object(i.a)({},o),{},{nombre:c})),s(null);m("")}else f(!0)},autoComplete:"off"},n.a.createElement("div",{className:"contenedor-input"},n.a.createElement("input",{type:"text",className:"input-text",placeholder:"Nombre Tarea...",name:"nombre",onChange:function(e){m(e.target.value)},value:c})),n.a.createElement("div",{className:"contenedor-input"},n.a.createElement("input",{type:"submit",className:"btn btn-primario btn-submit btn-block",value:o?"Editar tarea":"Agregar tarea"})),d?n.a.createElement("p",{className:"mensaje error"},"El nombre de la tarea es obligatorio"):null))},I=function(e){var a=e.tarea,t=Object(r.useContext)(y),o=t.eliminarTarea,c=t.cambiarEstado,l=t.setEditar,m=t.setNombre;return n.a.createElement("li",{className:"tarea sombra"},n.a.createElement("p",null,a.nombre),n.a.createElement("div",{className:"estado"},a.estado?n.a.createElement("button",{className:"completo",onClick:function(){return c(a)}},"Completo"):n.a.createElement("button",{className:"incompleto",onClick:function(){return c(a)}},"Incompleto")),n.a.createElement("div",{className:"acciones"},n.a.createElement("button",{className:"btn btn-primario",onClick:function(){l(a),m(a.nombre)}},"Editar"),n.a.createElement("button",{className:"btn btn-secundario",onClick:function(){return o(a.tareaID)}},"Eliminar")))},T=function(){var e=Object(r.useContext)(E),a=e.proyectoSeleccionado,t=e.eliminarProyecto,o=Object(r.useContext)(y).tareas;if(!a)return n.a.createElement("h2",null,"Selecciona un proyecto");var c=a[0],l=c.nombre,m=c.id,i=o.filter((function(e){return e.proyectoID===m}));return n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",null,"Proyecto: ",l),n.a.createElement("ul",{className:"listado-tareas"},0===i.length?n.a.createElement("li",{className:"tarea"},n.a.createElement("p",null,"No hay tareas")):i.map((function(e,a){return n.a.createElement(I,{tarea:e,key:a})}))),n.a.createElement("button",{className:"btn btn-eliminar",onClick:function(){return t(m)}},"Eliminar Proyecto \xd7"))},D=function(){return n.a.createElement("div",{className:"contenedor-app"},n.a.createElement(k,null),n.a.createElement("div",{className:"seccion-principal"},n.a.createElement(S,null),n.a.createElement("main",null,n.a.createElement(w,null),n.a.createElement("div",{className:"contenedor-tareas"},n.a.createElement(T,null)))))},F=t(15),q=function(e){var a=e.userName,t=e.component,r=Object(F.a)(e,["userName","component"]);return n.a.createElement(N.b,Object.assign({},r,{component:function(e){return""!==a?n.a.createElement(t,e):n.a.createElement(N.a,{to:"/nueva-cuenta"})}}))},J=function(e){var a=e.userName,t=e.component,r=Object(F.a)(e,["userName","component"]);return n.a.createElement(N.b,Object.assign({},r,{component:function(e){return""===a?n.a.createElement(t,e):n.a.createElement(N.a,{to:"/proyectos"})}}))},R=function(){var e=Object(r.useContext)(m).nombre;return console.log(e),n.a.createElement(v.a,null,n.a.createElement(N.d,null,n.a.createElement(J,{exact:!0,path:"/",component:h,userName:e}),n.a.createElement(J,{exact:!0,path:"/nueva-cuenta",component:C,userName:e}),n.a.createElement(q,{exact:!0,path:"/proyectos",component:D,userName:e}),n.a.createElement(N.a,{to:"/404"})))},A=function(){return n.a.createElement(f,null,n.a.createElement(O,null,n.a.createElement(b,null,n.a.createElement(R,null))))};t(33);c.a.render(n.a.createElement(A,null),document.querySelector("#root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.a5a8c92d.chunk.js.map